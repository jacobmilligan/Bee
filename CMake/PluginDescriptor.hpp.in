/*
 *  PluginDescriptor.hpp.in
 *  Bee
 *
 *  Copyright (c) 2020 Jacob Milligan. All rights reserved.
 */

#pragma once

#include <Bee/Core/Plugin.hpp>

BEE_PLUGIN_API void bee_describe_plugin(bee::PluginDescriptor* desc)
{
#ifdef BEE_TARGET_PLUGIN_HAS_DEPENDENCIES
    static constexpr bee::PluginDependency dependencies[] =
    {
@TARGET_DEPENDENCIES@
    };
#endif // BEE_TARGET_PLUGIN_HAS_DEPENDENCIES

    new(desc) bee::PluginDescriptor
    {
        { @TARGET_VERSION_MAJOR@, @TARGET_VERSION_MINOR@, @TARGET_VERSION_PATCH@ },
        "@TARGET_NAME@",
        "@TARGET_DESCRIPTION@",
        "@TARGET_RELATIVE_ROOT@"
#ifdef BEE_TARGET_PLUGIN_HAS_DEPENDENCIES
        , dependencies
#endif // BEE_TARGET_PLUGIN_HAS_DEPENDENCIES
    };
}